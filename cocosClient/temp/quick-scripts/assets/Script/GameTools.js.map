{"version":3,"sources":["GameTools.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"../../../../assets/Script","sourcesContent":["import { GameConfig } from \"./GameConfig\";\n/**\n * 0--removeRank\n * 1--好友排名\n * 3--提交得分\n * 4--gameover\n * 5--群排名\n */\nclass GameTools{\n    love2048FrameCache: null;\n\n     //获取排行榜()\n    getRankData(shareTicket) {\n        console.log(\"rangkData---------\",shareTicket)\n        cc.loader.loadRes(\"panel/RankingListView\", (err, prefab) => {\n            console.log(\"rangkData---------\",err)\n            if (!err) {\n                var node = cc.instantiate(prefab);\n                if (shareTicket != undefined) {\n                    node.getComponent(cc.Component).shareTicket = shareTicket;\n                }\n                cc.director.getScene().children[0].addChild(node);\n            }\n        });\n    }\n\n    //移除排行榜数据\n    removeRankData() {\n        if (cc.sys.platform === cc.sys.WECHAT_GAME) {\n            wx.postMessage({\n                messageType: 0,\n            });\n        } else {\n            cc.log(\"移除排行榜数据。\");\n        }\n    }\n\n    submitScore(score) { //提交得分\n        if (cc.sys.platform === cc.sys.WECHAT_GAME) {\n            wx.postMessage({\n                messageType: 3,\n                MAIN_MENU_NUM: GameConfig.MAIN_MENU_NUM,\n                score: score,\n            });\n        } else {\n            cc.log(\"提交得分:\" + GameConfig.MAIN_MENU_NUM + \" : \" + score)\n        }\n    }\n\n    //获取本地数据\n    public getItemByLocalStorage(key, value){\n        let values = cc.sys.localStorage.getItem(key);\n        if (values === undefined || values === null || values === '') {\n            cc.sys.localStorage.setItem(key, value);\n            return value;\n        }\n        if (typeof value === 'boolean') {\n            if (typeof values === 'boolean') {\n                return values;\n            }\n            return \"true\" == values;\n        } else if (typeof value === 'number') {\n            return Number(values);\n        }\n        return values;\n    }\n\n\n    playSimpleAudioEngine(engineType:number) {\n        if (GameConfig.IS_GAME_MUSIC) {\n            switch (engineType) {\n                case 0:\n                    cc.audioEngine.play(cc.url.raw('resources/audios/sfx_button.wav'), false, 0.5);\n                    break;\n                case 1:\n                    cc.audioEngine.play(cc.url.raw('resources/audios/sfx_highscore.wav'), false, 0.5);\n                    break;\n                case 2:\n                    cc.audioEngine.play(cc.url.raw(\"resources/audios/sfx_player_die.wav\"), false, 0.5);\n                    break;\n                case 3:\n                    cc.audioEngine.play(cc.url.raw(\"resources/audios/sfx_player_jump.wav\"), false, 0.5);\n                    break;\n                case 4:\n                    cc.audioEngine.play(cc.url.raw(\"resources/audios/sfx_score.wav\"), false, 0.5);\n                    break;\n                default:\n                    break;\n            }\n        }\n    }\n}\n\nexport const gameTools = new GameTools();"]}