require=function r(l,s,i){function u(o,e){if(!s[o]){if(!l[o]){var t="function"==typeof require&&require;if(!e&&t)return t(o,!0);if(f)return f(o,!0);var n=new Error("Cannot find module '"+o+"'");throw n.code="MODULE_NOT_FOUND",n}var c=s[o]={exports:{}};l[o][0].call(c.exports,function(e){return u(l[o][1][e]||e)},c,c.exports,r,l,s,i)}return s[o].exports}for(var f="function"==typeof require&&require,e=0;e<i.length;e++)u(i[e]);return u}({Helloworld:[function(e,o,t){"use strict";cc._RF.push(o,"e1b90/rohdEk4SdmmEZANaD","Helloworld"),Object.defineProperty(t,"__esModule",{value:!0});var n=e("./mySDK"),c=cc._decorator,r=c.ccclass,l=c.property,s=function(e){function o(){return null!==e&&e.apply(this,arguments)||this}return __extends(o,e),o.prototype.loginEvent=function(e,o){console.log("ljy------loginevent"),n.login(this.label),n.getSetting(this.touxiang)},__decorate([l(cc.Label)],o.prototype,"label",void 0),__decorate([l(cc.Node)],o.prototype,"touxiang",void 0),o=__decorate([r],o)}(cc.Component);t.default=s,cc._RF.pop()},{"./mySDK":"mySDK"}],mySDK:[function(e,o,t){"use strict";cc._RF.push(o,"5adcfXt8sdMlqqbBr0Qu8un","mySDK"),Object.defineProperty(t,"__esModule",{value:!0});var n=0,c=0;function r(n){wx.getUserInfo({success:function(e){console.log("getUserInfo success "),console.log("res is ",e),console.log("在微信登录里面昵称是 :"+e.userInfo.nickName),console.log("用户头像信息 :"+e.userInfo.avatarUrl),cc.loader.load(e.userInfo.avatarUrl+"?aa=aa.jpg",function(e,o){var t=new cc.SpriteFrame;t.setTexture(o),n.getComponent(cc.Sprite).spriteFrame=t})},fail:function(){console.log("getUserInfo fail ")},complete:function(){console.log("getUserInfo complete ")}})}function l(o){console.log("width",n),console.log("height",c);var t=wx.createUserInfoButton({type:"text",text:"获取用户信息",style:{left:n/2-100,top:c/2-20,width:200,height:40,lineHeight:40,backgroundColor:"#ff0000",color:"#ffffff",textAlign:"center",fontSize:16,borderRadius:4}});t.onTap(function(e){e.userInfo?(console.log("用户授权:",e),r(o)):console.log("用户拒绝授权:",e),t.destroy()})}t.login=function(o){wx.login({success:function(e){o.string=""+e.code,e.code?console.log("登录成功！"):console.log("登录失败！"+e.errMsg)}})},t.getSetting=function(o){try{var e=wx.getSystemInfoSync();n=e.screenWidth,c=e.screenHeight}catch(e){console.log("获取系统参数失败")}wx.getSetting({success:function(e){console.log(e.authSetting),e.authSetting["scope.userInfo"]?(console.log("userInfo 已经授权"),r(o)):(console.log("userInfo 未授权"),!1===e.authSetting["scope.userInfo"]?(console.log("用户 userInfo 已经拒绝"),l(o)):wx.authorize({scope:"scope.userInfo",success:function(){console.log("用户 成功 授权"),r(o)},fail:function(){console.log("用户 拒绝 授权")}}))}})},t.getUserInfo=r,t.createUserInfoButton=l,cc._RF.pop()},{}]},{},["Helloworld","mySDK"]);