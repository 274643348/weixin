require=function s(c,l,u){function a(o,e){if(!l[o]){if(!c[o]){var t="function"==typeof require&&require;if(!e&&t)return t(o,!0);if(i)return i(o,!0);var n=new Error("Cannot find module '"+o+"'");throw n.code="MODULE_NOT_FOUND",n}var r=l[o]={exports:{}};c[o][0].call(r.exports,function(e){return a(c[o][1][e]||e)},r,r.exports,s,c,l,u)}return l[o].exports}for(var i="function"==typeof require&&require,e=0;e<u.length;e++)a(u[e]);return a}({Helloworld:[function(e,o,t){"use strict";cc._RF.push(o,"e1b90/rohdEk4SdmmEZANaD","Helloworld"),Object.defineProperty(t,"__esModule",{value:!0});var n=e("./mySDK"),r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function o(){return null!==e&&e.apply(this,arguments)||this}return __extends(o,e),o.prototype.onLoad=function(){n.setUserCloudStorage(""+n.getRandomInt(10,1e3)),this.tex=new cc.Texture2D},o.prototype.start=function(){},o.prototype.updateSubDomainCanvas=function(){if(this.tex){var e=wx.getOpenDataContext().canvas;this.tex.initWithElement(e),this.tex.handleLoadedTexture(),this.opendataRoot.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(this.tex)}},o.prototype.update=function(){this.updateSubDomainCanvas()},o.prototype.loginEvent=function(e,o){console.log("ljy------loginevent"),n.login(this.label),n.getSetting(this.touxiang)},o.prototype.GameClubEvent=function(e,o){console.log("ljy------GameClubEvent"),n.getGameClub(this.touxiang)},o.prototype.hideMenuEvent=function(e,o){console.log("ljy------hideMenuEvent"),n.hideMenu()},o.prototype.showMenuEvent=function(e,o){console.log("ljy------showMenuEvent"),n.showMenu()},o.prototype.shareEvent=function(e,o){console.log("ljy------shareEvent"),n.shareAppMessage()},o.prototype.getGroupCloudStorage=function(e,o){console.log("ljy------getGroupCloudStorage"),n.my_postMessage("3","")},o.prototype.getFriendCloudStorage=function(e,o){console.log("ljy------getFriendCloudStorage"),n.my_postMessage("2","")},o.prototype.getUserCloudStorage=function(e,o){console.log("ljy------getUserCloudStorage"),n.my_postMessage("1","")},__decorate([c(cc.Label)],o.prototype,"label",void 0),__decorate([c(cc.Node)],o.prototype,"touxiang",void 0),__decorate([c(cc.Node)],o.prototype,"opendataRoot",void 0),o=__decorate([s],o)}(cc.Component);t.default=l,cc._RF.pop()},{"./mySDK":"mySDK"}],mySDK:[function(e,o,t){"use strict";cc._RF.push(o,"5adcfXt8sdMlqqbBr0Qu8un","mySDK"),Object.defineProperty(t,"__esModule",{value:!0});var n=0,r=0;function s(n){wx.getUserInfo({success:function(e){console.log("getUserInfo success "),console.log("res is ",e),console.log("在微信登录里面昵称是 :"+e.userInfo.nickName),console.log("用户头像信息 :"+e.userInfo.avatarUrl),cc.loader.load(e.userInfo.avatarUrl+"?aa=aa.jpg",function(e,o){var t=new cc.SpriteFrame;t.setTexture(o),n.getComponent(cc.Sprite).spriteFrame=t})},fail:function(){console.log("getUserInfo fail ")},complete:function(){console.log("getUserInfo complete ")}})}function c(o){console.log("width",n),console.log("height",r);var t=wx.createUserInfoButton({type:"text",text:"获取用户信息",style:{left:n/2-100,top:r/2-20,width:200,height:40,lineHeight:40,backgroundColor:"#ff0000",color:"#ffffff",textAlign:"center",fontSize:16,borderRadius:4}});t.onTap(function(e){e.userInfo?(console.log("用户授权:",e),s(o)):console.log("用户拒绝授权:",e),t.destroy()})}t.login=function(o){wx.login({success:function(e){o.string=""+e.code,e.code?console.log("登录成功！"):console.log("登录失败！"+e.errMsg)}})},t.getSetting=function(o){try{var e=wx.getSystemInfoSync();n=e.screenWidth,r=e.screenHeight}catch(e){console.log("获取系统参数失败")}wx.getSetting({success:function(e){console.log(e.authSetting),e.authSetting["scope.userInfo"]?(console.log("userInfo 已经授权"),s(o)):(console.log("userInfo 未授权"),!1===e.authSetting["scope.userInfo"]?(console.log("用户 userInfo 已经拒绝"),c(o)):wx.authorize({scope:"scope.userInfo",success:function(){console.log("用户 成功 授权"),s(o)},fail:function(){console.log("用户 拒绝 授权")}}))}})},t.getUserInfo=s,t.createUserInfoButton=c,t.getGameClub=function(e){wx.createGameClubButton({icon:"green",style:{left:10,top:76,width:40,height:40}})},t.showMenu=function(){wx.onShareAppMessage(function(){return{title:"玩家手动"}}),wx.showShareMenu()},t.hideMenu=function(){wx.hideShareMenu()},t.shareAppMessage=function(){wx.shareAppMessage({title:"直接分享"})},t.getGroupCloudStorage=function(){wx.getGroupCloudStorage({keyList:["score"],success:function(e){console.log("getGroupCloudStorage      success ------",e.data)},fail:function(e){console.log("getGroupCloudStorage      fail ------",e.data)}})},t.getFriendCloudStorage=function(){wx.getFriendCloudStorage({keyList:["score"],success:function(e){console.log("getFriendCloudStorage      success ------",e.data)},fail:function(e){console.log("getFriendCloudStorage      fail ------",e.data)}})},t.getUserCloudStorage=function(e,o){wx.getUserCloudStorage({keyList:[e],success:function(e){console.log("getUserCloudStorage success ---  ",e)}})},t.my_postMessage=function(e,o){wx.getOpenDataContext().postMessage({text:e,data:o})},t.setUserCloudStorage=function(e){wx.setUserCloudStorage({KVDataList:[{key:"score",value:e}],success:function(e){console.log("setUserCloudStorage success ---  ",e)},fail:function(e){console.log("setUserCloudStorage fail ---  ",e)}})},t.getRandomInt=function(e,o){var t=Math.ceil(e),n=Math.floor(o);return Math.floor(Math.random()*(n-t))+t},cc._RF.pop()},{}]},{},["Helloworld","mySDK"]);